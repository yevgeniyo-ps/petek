import{j as e}from"./md-editor-C1q9TcpX.js";import{d as g,r as o}from"./react-vendor-tRUzE08Q.js";import{u as j,a as b}from"./index-BFU_njf7.js";import{N as S,a as w}from"./NoteEditor-mGwv49CY.js";import{S as y}from"./ConfirmDialog-CjtMJDw2.js";import"./supabase-BZ0N5lZN.js";import"./chevron-down-B4Rhi2K0.js";function k(){const{notes:c,loading:m,updateNote:u}=j(),{getNoteIdsForLabel:d}=b(),[h]=g(),[f,x]=o.useState(!1),[n,i]=o.useState(null),[a,N]=o.useState(""),l=h.get("tag"),p=o.useMemo(()=>{let t=c.filter(s=>s.is_archived);if(l){const s=d(l);t=t.filter(r=>s.includes(r.id))}if(a){const s=a.toLowerCase();t=t.filter(r=>r.title.toLowerCase().includes(s)||r.content.toLowerCase().includes(s))}return t},[c,a,l,d]),v=async t=>{n&&await u(n.id,t),i(null)};return m?e.jsx("div",{className:"text-[#7a7890] text-[14px] text-center pt-40",children:"Loading..."}):e.jsxs("div",{className:"max-w-[1200px] px-12 py-10",children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("h1",{className:"text-[26px] font-bold text-white leading-tight",children:"Archive"}),e.jsx("p",{className:"text-[14px] text-[#7a7890] mt-1",children:"Your archived notes"})]}),e.jsx("div",{className:"mt-8 mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(y,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#7a7890]"}),e.jsx("input",{type:"text",placeholder:"Search archived...",value:a,onChange:t=>N(t.target.value),className:"pl-10 pr-5 py-2 bg-transparent border border-[#1c1928] rounded-full text-[13px] text-[#e0dfe4] placeholder-[#4a4660] outline-none focus:border-[#2d2a40] transition-colors w-72"})]})}),p.length===0?e.jsx("div",{className:"rounded-xl border border-[#1c1928] bg-[#0f0d18] py-24 text-center",children:e.jsx("p",{className:"text-[14px] text-[#7a7890]",children:"No archived notes."})}):e.jsx(S,{notes:p,onNoteClick:t=>{i(t),x(!0)}}),e.jsx(w,{note:n,open:f,onClose:()=>{x(!1),i(null)},onSave:v})]})}export{k as default};
